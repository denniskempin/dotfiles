#!/usr/bin/env bash

exec() {
  echo "$@"
  "$@"
}

link() {
  exec ln -sfh ~/"dotfiles/$1" "$2"
}

su_link() {
  exec sudo ln -sfh ~/"dotfiles/$1" "$2"
}

# OS Setup
case $OSTYPE
  in darwin*)    
    SUBLIME_USER_DIR=~/"Library/Application Support/Sublime Text 3/Packages/User" ;;
esac

# User symlinks
link "sublime/Preferences.sublime-settings" "$SUBLIME_USER_DIR/Preferences.sublime-settings"
link "sublime/Package Control.sublime-settings" "$SUBLIME_USER_DIR/Package Control.sublime-settings"
rm ~/.zshrc
echo source ~/"dotfiles/zsh/zshrc" > ~/.zshrc

# System symlinks
su_link paths /etc/paths.d/dotfiles
