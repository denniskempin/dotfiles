#!/usr/bin/env bash

exec() {
  echo "$@"
  "$@"
}

link() {
  exec ln -sfh ~/"dotfiles/$1" "$2"
}

su_link() {
  exec sudo ln -sfh ~/"dotfiles/$1" "$2"
}

# OS Setup
case $OSTYPE
  in darwin*)    
    SUBLIME_USER_DIR=~/"Library/Application Support/Sublime Text 3/Packages/User" ;;
esac

# User symlinks
link fish/before.init.fish ~/.config/omf/before.init.fish
link fish/bundle ~/.config/omf/bundle
link fish/init.fish ~/.config/omf/init.fish
link fish/theme ~/.config/omf/theme
link "sublime/Preferences.sublime-settings" "$SUBLIME_USER_DIR/Preferences.sublime-settings"
link "sublime/Package Control.sublime-settings" "$SUBLIME_USER_DIR/Package Control.sublime-settings"


# System symlinks
su_link paths /etc/paths.d/dotfiles
